<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
       xmlns:f="http://xmlns.jcp.org/jsf/core"
	   xmlns:h="http://xmlns.jcp.org/jsf/html"
	   xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	   xmlns:jsf="http://xmlns.jcp.org/jsf"
	   xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	   xmlns:p="http://primefaces.org/ui">

	<h:head>
	<!--  <ui:include src="/template/header.xhtml" /> -->
	<title>Consulter utilisateur</title></h:head>
	<h:body>
		<ui:composition template="./../../template/templateAdmin.xhtml">
		<ui:define name="content">
			
		
<h:panelGroup columns="2">
<h:form id="form">

<h2>Liste des utilisateurs</h2>



<h:dataTable value="#{consulterUtilisateurBean.users}" var="employe" border="1">

<h:column><f:facet name="header"><h:outputText value="Login" /></f:facet>
<h:outputText value="#{employe.email}" /></h:column>

<h:column><f:facet name="header"><h:outputText value="Prenom" /></f:facet>
<h:outputText value="#{employe.prenom}" /></h:column>

<h:column><f:facet name="header"><h:outputText value="Nom" /></f:facet>
<h:outputText value="#{employe.nom}" /></h:column>

<h:column><f:facet name="header"><h:outputText value="Role" /></f:facet>
<h:outputText value="#{employe.role}" /></h:column>

<h:column><f:facet name="header"><h:outputText value="Actif" /></f:facet>
<h:outputText value=" #{employe.isActif() ? 'Oui' : 'Non'}" /></h:column>

<h:column>
<f:facet name="header"><h:outputText value="Action" /></f:facet>
<h:commandButton action="#{consulterUtilisateurBean.removeUser(employe.id)}" value="Supprimer" /> 
</h:column>

<h:column>
<f:facet name="header"><h:outputText value="Action" /></f:facet>
	<h:commandButton action="#{consulterUtilisateurBean.displayUser(employe)}" value="Afficher" />
</h:column>

</h:dataTable>

</h:form>



<h:form  id="form2">
	
	

	<h:panelGrid columns="2">
	 <h:outputText value="login (email)" />
	 <h:inputText value="#{consulterUtilisateurBean.email}" />
	 
	 <h:outputText value="password" />
	 <h:inputSecret value="#{consulterUtilisateurBean.password}" />
	 
	 <h:outputText value="Nom" />
	 <h:inputText value="#{consulterUtilisateurBean.nom}" />
	 
	 <h:outputText value="Prenom" />
	 <h:inputText value="#{consulterUtilisateurBean.prenom}" />
	 
	
	 <h:outputText value="Etat"></h:outputText>
		<h:selectOneMenu value="#{consulterUtilisateurBean.etat}">
		<f:selectItem itemLabel="Choisir etat" itemValue=""/>
		<f:selectItems value="#{data.getEtats()}" />
	</h:selectOneMenu>
	 
	 
	 <h:outputText value="Role"></h:outputText>
		<h:selectOneMenu value="#{consulterUtilisateurBean.role}">
		<f:selectItem itemLabel="Choisir Role" itemValue=""/>
		<f:selectItems value="#{data.getRoles()}" />
	</h:selectOneMenu>
	 
	 
	 <h:commandButton  id="bt3" value="Mettre A jour Utilisateur" action="#{consulterUtilisateurBean.updateUser()}" />
	 
	</h:panelGrid>
		</h:form>
</h:panelGroup>

		</ui:define>		
	</ui:composition>

	
	 </h:body>
</html>